# FinOpsGuard Environment Configuration
# Copy this file to .env and customize for your deployment

# ============================================================================
# Application Settings
# ============================================================================
APP_ENV=production
LOG_LEVEL=info
WORKERS=4

# ============================================================================
# API Configuration
# ============================================================================
API_HOST=0.0.0.0
API_PORT=8080
API_RELOAD=false

# Public endpoint (for documentation and CI/CD integration)
FINOPS_PUBLIC_URL=http://localhost:8080

# ============================================================================
# Port Mappings
# ============================================================================
FINOPS_PORT=8080
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
REDIS_PORT=6379

# ============================================================================
# Policy Engine Configuration
# ============================================================================
# Default monthly budget in USD (if not specified per-policy)
DEFAULT_BUDGET=1000

# Enable blocking mode for policy violations
ENABLE_BLOCKING=true

# ============================================================================
# Cloud Provider Settings
# ============================================================================
# Default AWS region
AWS_REGION=us-east-1

# Default GCP region
GCP_REGION=us-central1

# Default Azure region
AZURE_REGION=eastus

# ============================================================================
# Real-time Pricing (Live Pricing APIs)
# ============================================================================
# Enable live pricing (falls back to static if disabled or unavailable)
LIVE_PRICING_ENABLED=false

# Fallback to static pricing if live pricing fails
PRICING_FALLBACK_TO_STATIC=true

# AWS Pricing API
AWS_PRICING_ENABLED=false
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key

# GCP Cloud Billing API
GCP_PRICING_ENABLED=false
# GCP_PRICING_API_KEY=your-gcp-api-key
# Or use service account:
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json

# Azure Retail Prices API (no authentication required - public API)
AZURE_PRICING_ENABLED=false

# ============================================================================
# Usage Integration (CloudWatch, Monitoring, Cost Management)
# ============================================================================
# Enable usage integration for historical data and metrics
USAGE_INTEGRATION_ENABLED=false

# Cache TTL for usage data (in seconds)
USAGE_CACHE_TTL_SECONDS=3600

# AWS CloudWatch and Cost Explorer
AWS_USAGE_ENABLED=false
# AWS credentials (same as pricing, can use AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY)
# AWS_REGION is already defined above

# GCP Cloud Monitoring and Billing
GCP_USAGE_ENABLED=false
# GCP_PROJECT_ID=your-project-id
# GCP_BILLING_ACCOUNT_ID=012345-6789AB-CDEF01
# GCP_BILLING_DATASET=billing_export
# GCP_BILLING_TABLE=gcp_billing_export_v1
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json

# Azure Monitor and Cost Management
AZURE_USAGE_ENABLED=false
# AZURE_SUBSCRIPTION_ID=your-subscription-id
# AZURE_TENANT_ID=your-tenant-id
# Azure credentials via DefaultAzureCredential (environment variables, managed identity, etc.)

# ============================================================================
# Metrics & Monitoring
# ============================================================================
METRICS_ENABLED=true
# Note: Prometheus port is configured in Port Mappings section above

# ============================================================================
# Grafana Settings (for monitoring profile)
# ============================================================================
GRAFANA_USER=admin
GRAFANA_PASSWORD=changeme

# ============================================================================
# Database Settings (for database profile)
# ============================================================================
# Enable/disable PostgreSQL database
DB_ENABLED=false

# PostgreSQL connection settings
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=finopsguard
POSTGRES_USER=finopsguard
POSTGRES_PASSWORD=finopsguard

# Full database URL (alternative to individual settings)
DATABASE_URL=postgresql://finopsguard:finopsguard@postgres:5432/finopsguard

# Connection pool settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# ============================================================================
# Redis Settings (for caching profile)
# ============================================================================
# Enable/disable Redis caching
REDIS_ENABLED=false

# Redis connection settings
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
# REDIS_PASSWORD=your-redis-password-here

# ============================================================================
# Authentication (Future Enhancement)
# ============================================================================
# ENABLE_AUTH=false
# JWT_SECRET=your-secret-key-here
# API_KEY=your-api-key-here

# ============================================================================
# CI/CD Integration
# ============================================================================
# GitHub token for PR commenting
# GITHUB_TOKEN=ghp_xxxxxxxxxxxxx

# GitLab token for MR commenting
# GITLAB_TOKEN=glpat-xxxxxxxxxxxxx

# ============================================================================
# Storage (Future Enhancement)
# ============================================================================
# DATABASE_URL=postgresql://user:password@localhost:5432/finopsguard
# S3_BUCKET=finopsguard-analyses
# GCS_BUCKET=finopsguard-analyses

# ============================================================================
# Feature Flags
# ============================================================================
# ENABLE_ADMIN_UI=true
# ENABLE_POLICY_ENGINE=true
# ENABLE_COST_SIMULATION=true

